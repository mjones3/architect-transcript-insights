# =============================================================================
# Terraform Variables for EC2 Deployment - Architect Transcript Insights
# =============================================================================

# AWS Configuration
aws_region = "us-east-1"
environment = "production"
app_name = "architect-transcript-insights"

# S3 Configuration
bucket_name = "architect-transcripts-prod-unique-suffix"  # Must be globally unique

# EC2 Deployment Configuration (Option 2)
deploy_ec2 = true
instance_type = "t3.medium"  # Cost-optimized, sufficient for most workloads
key_pair_name = "your-key-pair-name"  # Replace with your actual key pair

# Network Configuration (REQUIRED for EC2 deployment)
# You MUST provide your VPC ID and public subnet IDs
vpc_id = "vpc-xxxxxxxxx"  # Replace with your VPC ID
public_subnet_ids = [
  "subnet-xxxxxxxxx",  # Replace with your public subnet ID in AZ-a
  "subnet-yyyyyyyyy"   # Replace with your public subnet ID in AZ-b
]

# Security Configuration
ssh_allowed_ips = [
  "0.0.0.0/0"  # CHANGE THIS: Restrict to your IP address for better security
  # Example: ["203.0.113.0/24", "198.51.100.0/24"]
]

allowed_ips = [
  "0.0.0.0/0"  # ALB handles public access
]

# Application Configuration
app_port = 3000  # React frontend
api_port = 3001  # Express API server

# Required Features for Custom Domain
enable_cognito = true   # Required for authentication
enable_alb = true       # Required for custom domain
enable_cloudwatch_agent = true
enable_ssl_redirect = true

# CloudWatch Configuration
log_retention_days = 30

# Tags
tags = {
  Project     = "ArchitectTranscriptInsights"
  Environment = "production"
  Owner       = "SolutionArchitect"
  DeployedBy  = "Terraform"
  Domain      = "insights.melvin-jones.com"
  DeploymentType = "EC2"
}